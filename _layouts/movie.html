<!DOCTYPE html>
<html>

{% include head.html %}

<body>

    <main class="movie-layout">

        <h1>{{ page.title }}</h1>

        {% assign mydata = site.data.empty %}
        {% if page.dataset == "movies" %}
        {% assign mydata = (site.data.movie-ratings | sort:'Rating') | reverse %}
        {% elsif page.dataset == "tv shows" %}
        {% assign mydata = (site.data.tv-ratings | sort:'Rating') | reverse %}
        {% endif %}

        <p>Total {{ page.dataset }}: {{ mydata.size }}</p>

        <p><a href="/movie-list">Movielist</a> | <a href="/movie-list/tv">TV list</a></p>

        <table>
            <thead>
            {% for column in mydata[0] %}
            <th>{{ column[0] }}</th>
            {% endfor %}
            </thead>
            <tbody>
            {% for row in mydata %}
            <tr>
                {% for cell in row %}
                <td>{{ cell[1] }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
            </tbody>
        </table>

        {{ content }}

    </main>

</body>

</html>